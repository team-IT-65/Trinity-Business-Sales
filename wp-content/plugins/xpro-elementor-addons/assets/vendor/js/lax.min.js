(()=>{const e=(e=30)=>["elInY+elHeight",`elCenterY-${e}`,"elCenterY",`elCenterY+${e}`,"elOutY-elHeight"],t={fadeInOut:(t=30,s=0)=>({opacity:[e(t),[s,1,1,1,s]]}),fadeIn:(e="elCenterY",t=0)=>({opacity:[["elInY+elHeight",e],[t,1]]}),fadeOut:(e="elCenterY",t=0)=>({opacity:[[e,"elOutY-elHeight"],[1,t]]}),blurInOut:(t=100,s=20)=>({blur:[e(t),[s,0,0,0,s]]}),blurIn:(e="elCenterY",t=20)=>({blur:[["elInY+elHeight",e],[t,0]]}),blurOut:(e="elCenterY",t=20)=>({opacity:[[e,"elOutY-elHeight"],[0,t]]}),scaleInOut:(t=100,s=.6)=>({scale:[e(t),[s,1,1,1,s]]}),scaleIn:(e="elCenterY",t=.6)=>({scale:[["elInY+elHeight",e],[t,1]]}),scaleOut:(e="elCenterY",t=.6)=>({scale:[[e,"elOutY-elHeight"],[1,t]]}),slideX:(e=0,t=500)=>({translateX:[["elInY",e],[0,t]]}),slideY:(e=0,t=500)=>({translateY:[["elInY",e],[0,t]]}),spin:(e=1e3,t=360)=>({rotate:[[0,e],[0,t],{modValue:e}]}),flipX:(e=1e3,t=360)=>({rotateX:[[0,e],[0,t],{modValue:e}]}),flipY:(e=1e3,t=360)=>({rotateY:[[0,e],[0,t],{modValue:e}]}),jiggle:(e=50,t=40)=>({skewX:[[0,1*e,2*e,3*e,4*e],[0,t,0,-t,0],{modValue:4*e}]}),seesaw:(e=50,t=40)=>({skewY:[[0,1*e,2*e,3*e,4*e],[0,t,0,-t,0],{modValue:4*e}]}),zigzag:(e=100,t=100)=>({translateX:[[0,1*e,2*e,3*e,4*e],[0,t,0,-t,0],{modValue:4*e}]}),hueRotate:(e=600,t=360)=>({"hue-rotate":[[0,e],[0,t],{modValue:e}]})},s=(()=>{const e=["perspective","scaleX","scaleY","scale","skewX","skewY","skew","rotateX","rotateY","rotate"],s=["blur","hue-rotate","brightness"],n=["translateX","translateY","translateZ"],a=["perspective","border-radius","blur","translateX","translateY","translateZ"],r=["hue-rotate","rotate","rotateX","rotateY","skew","skewX","skewY"];function i(e,t){if(Array.isArray(e))return e;const s=Object.keys(e).map((e=>parseInt(e))).sort(((e,t)=>e>t?1:-1));let n=s[s.length-1];for(let e=0;e<s.length;e++){const a=s[e];if(t<a){n=a;break}}return e[n]}function l(e,t,s,n){let a=0;if(e.forEach((e=>{e<s&&a++})),a<=0)return t[0];if(a>=e.length)return t[e.length-1];const r=a-1;let i=function(e,t,s){return(s-e)/(t-e)}(e[r],e[a],s);n&&(i=n(i));var l,o,c;return l=t[r],o=t[a],l*(1-(c=i))+o*c}const o={easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeOutBounce:e=>{const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInBounce:e=>1-o.easeOutBounce(1-e),easeOutBack:e=>{const t=1.70158;return 1+2.70158*Math.pow(e-1,3)+t*Math.pow(e-1,2)},easeInBack:e=>{const t=1.70158;return 2.70158*e*e*e-t*e*e}};function c(e,{width:t,height:s,x:n,y:a},r){if("number"==typeof e)return e;const i=document.body.scrollHeight,l=document.body.scrollWidth,o=window.innerWidth,c=window.innerHeight,[u,d]=function(){const e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),s=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft;return[e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop,s]}(),h=n+d,m=h+t,f=a+u,p=f+s;return Function(`return ${e.replace(/screenWidth/g,o).replace(/screenHeight/g,c).replace(/pageHeight/g,i).replace(/pageWidth/g,l).replace(/elWidth/g,t).replace(/elHeight/g,s).replace(/elInY/g,f-c).replace(/elOutY/g,p).replace(/elCenterY/g,f+s/2-c/2).replace(/elInX/g,h-o).replace(/elOutX/g,m).replace(/elCenterX/g,h+t/2-o/2).replace(/index/g,r)}`)()}class u{getValueFn;name="";lastValue=0;frameStep=1;m1=0;m2=0;inertia=0;inertiaEnabled=!1;constructor(e,t,s={}){this.name=e,this.getValueFn=t,Object.keys(s).forEach((e=>{this[e]=s[e]})),this.lastValue=this.getValueFn(0)}getValue=e=>{let t=this.lastValue;if(e%this.frameStep==0&&(t=this.getValueFn(e)),this.inertiaEnabled){const e=t-this.lastValue,s=.8;this.m1=this.m1*s+e*(1-s),this.m2=this.m2*s+this.m1*(1-s),this.inertia=Math.round(5e3*this.m2)/15e3}return this.lastValue=t,[this.lastValue,this.inertia]}}class d{domElement;transformsData;styles={};selector="";groupIndex=0;laxInstance;onUpdate;constructor(e,t,s,n,a=0,r={}){this.selector=e,this.laxInstance=t,this.domElement=s,this.transformsData=n,this.groupIndex=a;const{style:i={},onUpdate:l}=r;Object.keys(i).forEach((e=>{s.style.setProperty(e,i[e])})),l&&(this.onUpdate=l),this.calculateTransforms()}update=(e,t)=>{const{transforms:s}=this,n={};for(let i in s){const c=s[i];e[i]||console.error("No lax driver with name: ",i);const[u,d]=e[i];for(let e in c){const[s,i,h={}]=c[e],{modValue:m,frameStep:f=1,easing:p,inertia:g,inertiaMode:w,cssFn:b,cssUnit:Y=""}=h,y=o[p];if(t%f==0){let t=l(s,i,m?u%m:u,y);if(g){let e=d*g;"absolute"===w&&(e=Math.abs(e)),t+=e}const o="px"===(Y||a.includes(e)?"px":r.includes(e)?"deg":"")?0:3,c=t.toFixed(o);n[e]=b?b(c,this.domElement):c+Y}}}this.applyStyles(n),this.onUpdate&&this.onUpdate(e,this.domElement)};calculateTransforms=()=>{this.transforms={};const e=this.laxInstance.windowWidth;for(let t in this.transformsData){let s=this.transformsData[t];const n={},{presets:a=[]}=s;a.forEach((e=>{const[t,n,a]=e.split(":"),r=window.lax.presets[t];if(r){const e=r(n,a);Object.keys(e).forEach((t=>{s[t]=e[t]}))}else console.error("Lax preset cannot be found with name: ",t)})),delete s.presets;for(let t in s){let[a=[-1e9,1e9],r=[-1e9,1e9],l={}]=s[t];const o=this.domElement.getBoundingClientRect(),u=i(a,e).map((e=>c(e,o,this.groupIndex))),d=i(r,e).map((e=>c(e,o,this.groupIndex)));n[t]=[u,d,l]}this.transforms[t]=n}};applyStyles=t=>{const i=function(t){const i={transform:"",filter:""},l={translateX:1e-5,translateY:1e-5,translateZ:1e-5};return Object.keys(t).forEach((o=>{const c=t[o],u=a.includes(o)?"px":r.includes(o)?"deg":"";n.includes(o)?l[o]=c:e.includes(o)?i.transform+=`${o}(${c}${u}) `:s.includes(o)?i.filter+=`${o}(${c}${u}) `:i[o]=`${c}${u} `})),i.transform=`translate3d(${l.translateX}px, ${l.translateY}px, ${l.translateZ}px) ${i.transform}`,i}(t);Object.keys(i).forEach((e=>{this.domElement.style.setProperty(e,i[e])}))}}return new class{drivers=[];elements=[];frame=0;debug=!1;windowWidth=0;windowHeight=0;presets=t;debugData={frameLengths:[]};init=()=>{this.findAndAddElements(),window.requestAnimationFrame(this.onAnimationFrame),this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,window.onresize=this.onWindowResize};onWindowResize=()=>{(document.body.clientWidth!==this.windowWidth||document.body.clientHeight!==this.windowHeight)&&(this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight,this.elements.forEach((e=>e.calculateTransforms())))};onAnimationFrame=e=>{this.debug&&(this.debugData.frameStart=Date.now());const t={};if(this.drivers.forEach((e=>{t[e.name]=e.getValue(this.frame)})),this.elements.forEach((e=>{e.update(t,this.frame)})),this.debug&&this.debugData.frameLengths.push(Date.now()-this.debugData.frameStart),this.frame%60==0&&this.debug){const e=Math.ceil(this.debugData.frameLengths.reduce(((e,t)=>e+t),0)/60);console.log(`Average frame calculation time: ${e}ms`),this.debugData.frameLengths=[]}this.frame++,window.requestAnimationFrame(this.onAnimationFrame)};addDriver=(e,t,s={})=>{this.drivers.push(new u(e,t,s))};removeDriver=e=>{this.drivers=this.drivers.filter((t=>t.name!==e))};findAndAddElements=()=>{this.elements=[];document.querySelectorAll(".lax").forEach((e=>{const t=[];e.classList.forEach((e=>{if(e.includes("lax_preset")){const s=e.replace("lax_preset_","");t.push(s)}}));const s={scrollY:{presets:t}};this.elements.push(new d(".lax",this,e,s,0,{}))}))};addElements=(e,t,s)=>{document.querySelectorAll(e).forEach(((n,a)=>{this.elements.push(new d(e,this,n,t,a,s))}))};removeElements=e=>{this.elements=this.elements.filter((t=>t.selector!==e))};addElement=(e,t,s)=>{this.elements.push(new d("",this,e,t,0,s))};removeElement=e=>{this.elements=this.elements.filter((t=>t.domElement!==e))}}})();"undefined"!=typeof module&&void 0!==module.exports?module.exports=s:window.lax=s})(),lax.init(),lax.addDriver("scrollY",(function(){return document.documentElement.scrollTop}),{frameStep:1});